@* @model List<city> *@

<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.common.min.css" />
<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.default.min.css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2021.2.616/js/kendo.all.min.js"></script>

<div id="grid">
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            var dataSource = new kendo.data.DataSource({
                transport: {
                    read: {
                        url: "http://localhost:7192/KendoEmployeeMVC/GetEmployee",
                        dataType: "json"
                    },
                    create: {
                        url: "http://localhost:7192/KendoEmployeeMVC/Create",
                        type: "POST",
                        dataType: "json"
                    },
                    update: {
                        url: "http://localhost:7192/City/Edit",
                        type: "POST",
                        dataType: "json"
                    },
                    destroy: {
                        url: "http://localhost:7192/City/Delete",
                        type: "POST",
                        dataType: "json"
                    }
                },
                pageSize: 5,
                schema: {
                    model: {
                        id: "c_userid",
                        fields: {
                            c_userid: { type: "number", editable: false, nullable: false },
                            c_empname: { type: "string", validation: { required: true } },
                            c_enpgender: { type: "string", validation: { required: true } },
                            c_shift: { type: "string", validation: { required: true } },
                            c_dept_id: { type: "number", validation: { required: true } },
                            c_image: { type: "string", validation: { required: true } },
                            c_dob: { type: "number", validation: { required: true } },
                        }
                    }
                }
            });
           
           
            $('#grid').kendoGrid({
                dataSource: dataSource,
                columns: [
                    { field: "c_userid", title: "User ID" },
                    { field: "c_empname", title: "Employee Name" },
                    { field: "c_enpgender", title: "Gender type" },
                    { field: "c_shift", title: "Employee shift" },
                    { field: "c_dept_id", title:"DepartmentID"},
                    { field: "c_image", title: "City Image" },
                    { field: "c_dob", title: "Date" },



                    { command: ["edit", "destroy"], title: "&nbsp;", width: "200px" }
                ],
                editable: "popup",
                toolbar: ["create"],
                pageable: true,
                sortable: true,
                filterable: true,
            });

            dataSource.bind("requestEnd", function (e) {
                if (e.type == "create" || e.type == "update" || e.type == "destroy") {
                    dataSource.read();
                }
            });
            $("#grid").on("click", ".k-grid-cancel-changes", function () {
                dataSource.cancelChanges();
            });
        });
    </script>

}